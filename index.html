<!DOCTYPE html>
<html>
  <head>
    <title>Holiday Lights Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style type="text/css">
    html, body {
      width: 100%;
      height: 500px;
      margin: 0px;
      padding: 0px
    }
    #map-canvas {
      width: 80%;
      height: 400px;
    }
    .popup-image {
      width: 100%;
      margin: 0;
    }
    /* to affect popup div */
    .gm-style .gm-style-iw  {
      max-width: 300px;
    }
    .photo-title {
      font-size: 16px;
      font-weight: bold;
    }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3"></script>
    <script>
    var map;
    var geocoder = new google.maps.Geocoder();
    var infowindow = new google.maps.InfoWindow();
    var marker = new google.maps.Marker({
      icon: "icon.png" 
      // icon from https://mapicons.mapsmarker.com/markers/tourism/place-to-see/star/?custom_color=e41b17
    }); 

    function initialize() {
      // Create map
      map = new google.maps.Map(document.getElementById('map-canvas'), {
        zoom: 10,
        center: new google.maps.LatLng(39.7,-104.9),
        panControl: false,
        streetViewControl: false,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      });

      google.maps.event.addListener(map, 'click', function() {
        infowindow.close();
      });

      // Style map markers
      map.data.setStyle(marker);
      
      // Load the associated GeoJSON
      var url = 'test-geojson.js';
      map.data.loadGeoJson(url);

      // Set mouseover event for each feature.
      map.data.addListener('click', function(event) {
        infowindow.setContent("<span class='photo-title'>" + event.feature.getProperty('title') + "</span>" + "<br>" + "<img class='popup-image' src=" + event.feature.getProperty('photo') + " />" + "<br>" + event.feature.getProperty('address') + "<br>" + event.feature.getProperty('city') + " CO " + event.feature.getProperty('ZIP code'));
        infowindow.setPosition(event.latLng);
        infowindow.setOptions({pixelOffset: new google.maps.Size(0,-35)});
        infowindow.open(map);        
      });

      /* map.data.addListener('mouseout', function(event) {
        infowindow.close();
      }); */
    }
    google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>